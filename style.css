:root{
  --bg:#0b0b0b; --surf:#121212; --line:#2a2a2a; --txt:#ffffff; --muted:#a1a1a1;
  --ok:#22c55e; --bad:#ef4444;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--txt);font:14px/1.4 system-ui,-apple-system,Segoe UI,Roboto}
.container{max-width:1200px;margin:0 auto;padding:14px 16px}
.row{display:flex;align-items:center}
.wrap{flex-wrap:wrap}
.gap{gap:10px}
.grow{flex:1}

.topbar{position:sticky;top:0;z-index:10;background:#0b0b0bcc;backdrop-filter:blur(8px);border-bottom:1px solid var(--line)}
.brand{font-size:18px;margin:0}

.page{display:none}
.page.on{display:block}

.grid2{display:grid;grid-template-columns:420px 1fr;gap:14px;align-items:start}
@media (max-width:980px){ .grid2{grid-template-columns:1fr}}

.panel{background:var(--surf);border:1px solid var(--line);border-radius:14px;padding:12px}

.input{
  background:#151515;border:1px solid var(--line);color:var(--txt);
  border-radius:10px;padding:8px 10px;min-width:240px
}
.input:focus{outline:none;border-color:#3a3a3a}
.w80{min-width:80px;width:80px;text-align:center}

.btn{
  background:#1a1a1a;border:1px solid var(--line);color:#fff;
  border-radius:10px;padding:8px 12px;cursor:pointer
}
.btn:hover{border-color:#3a3a3a}
.btn.strong{background:#222}
.btn.ghost{background:transparent}
.btn.hide{display:none}

.badge{display:inline-block;border:1px solid var(--line);border-radius:999px;padding:6px 10px;color:var(--muted)}
.badge.clickable{cursor:pointer}

.controls{margin-bottom:8px}

/* list on learn */
.list{display:grid;grid-template-columns:1fr;gap:6px;max-height:60vh;overflow:auto;padding-right:4px}
.item{
  display:grid;grid-template-columns:26px 60px 1fr;align-items:center;gap:10px;
  border:1px solid var(--line);border-radius:10px;padding:8px 10px;background:#0f0f0f
}
.stt{width:60px;text-align:center;border:1px solid var(--line);border-radius:8px;padding:2px 0;color:var(--muted)}
.name{display:flex;flex-direction:column}
.name b{font-size:15px}
.name .fam{color:var(--muted);font-size:12px}

/* browse cards */
.gridCards{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px}
@media (max-width:1100px){.gridCards{grid-template-columns:repeat(2,minmax(0,1fr))}}
@media (max-width:720px){.gridCards{grid-template-columns:1fr}}
.cardBox{background:#101010;border:1px solid var(--line);border-radius:12px;padding:10px;display:grid;gap:8px}
.cardBox .pic{border:1px solid var(--line);border-radius:10px;overflow:hidden;background:#000}
.cardBox img{display:block;width:100%;height:220px;object-fit:contain} /* FIT toàn bộ ảnh */
.metaKV{font-size:12px;color:var(--muted)}

.card{min-height:460px;border:1px dashed var(--line);border-radius:12px;padding:12px;display:grid;gap:12px}
.placeholder{color:var(--muted);display:grid;place-items:center;height:100%}

.fig{display:grid;grid-template-columns:320px 1fr;gap:14px}
@media (max-width:820px){.fig{grid-template-columns:1fr}}
.fig .pic{border:1px solid var(--line);border-radius:10px;overflow:hidden;background:#000}
.fig .pic img{display:block;width:100%;height:260px;object-fit:contain} /* FIT toàn bộ ảnh */
.fig .meta{display:grid;gap:6px}
.badge{display:inline-block;border:1px solid var(--line);border-radius:999px;padding:3px 8px;color:var(--muted)}

.qa{display:grid;gap:8px}
.opt{ /* vẫn giữ màu chữ trắng nếu sau này dùng lại */
  border:2px solid #3a3a3a;border-radius:12px;padding:10px 12px;background:#111;cursor:pointer;
  color:#fff;
}
.opt .opt-text{color:#fff}
.opt.wrong{border-color:var(--bad);background:#2a1113;color:#fff}
.opt.correct{border-color:var(--ok);background:#0f2316;color:#fff}
.opt.disabled{opacity:.8;pointer-events:none}

/* exam inputs */
.form{display:grid;gap:8px}
.form label{font-weight:600}
.form textarea, .form input{
  width:100%; background:#151515; color:#fff; border:1px solid var(--line); border-radius:10px; padding:8px 10px;
}
.ans{border-top:1px dashed var(--line);padding-top:8px;color:#d6f5de}

dialog{border:none;border-radius:12px;background:#111;color:#fff;max-width:760px;width:92%;padding:14px;border:1px solid var(--line)}
.missBody{max-height:55vh;overflow:auto}
.missItem{border:1px solid var(--line);border-radius:10px;padding:6px 8px;margin:6px 0;background:#0f0f0f}

.foot{color:var(--muted);padding-bottom:24px}